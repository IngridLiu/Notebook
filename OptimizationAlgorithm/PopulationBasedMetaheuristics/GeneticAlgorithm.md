# 遗传算法(Genetic Algorithm ,GA)

| 转自[干货 | 遗传算法(Genetic Algorithm) （附代码及注释）](https://mp.weixin.qq.com/s?__biz=MzIyNzg5MTQ5Mg==&mid=2247484529&idx=1&sn=6137baf119a703a094283dff364a228b&chksm=e85b043adf2c8d2c2e191ac228557a6b8253b0cc5d9ae451619b902ec559c354adbef689e9b5&scene=21#wechat_redirect)

<br>
<br>

## 1 遗传算法的概念

### 1.1 遗传算法的科学定义
&emsp;&emsp;**遗传算法（Genetic Algorithm, GA）** 是模拟达尔文生物进化论的自然选择和遗传学机理的生物进化过程的计算模型，是一种通过**模拟自然进化过程搜索最优解的方法** 。
&emsp;&emsp;其主要特点是:
&emsp;&emsp;1.直接对结构对象进行操作，不存在求导和函数连续性的限定；
&emsp;&emsp;2.具有内在的隐并行性和更好的全局寻优能力；
&emsp;&emsp;3.采用概率化的寻优方法，**不需要确定的规则就能自动获取和指导优化的搜索空间，自适应地调整搜索方向**。
&emsp;&emsp;遗传算法以一种群体中的所有个体为对象，并利用随机化技术指导一个被编码的参数空间进行高效搜索。其中，选择、交叉和变异构成了遗传算法的遗传操作；**参数编码、初始群体的设定、适应度函数的设计、遗传操作设计、控制参数设定五个要素**组成了遗传算法的核心内容。 

### 1.2 遗传算法的执行过程
&emsp;&emsp;遗传算法是从代表问题可能潜在的解集的一个种群（population）开始的，而一个种群则由经过基因（gene）编码的一定数目的个体(individual)组成。**每个个体实际上是染色体(chromosome)带有特征的实体** 。
&emsp;&emsp;染色体作为遗传物质的主要载体，即多个基因的集合，其内部表现（即基因型）是某种基因组合，它决定了个体的形状的外部表现，如黑头发的特征是由染色体中控制这一特征的某种基因组合决定的。**因此，在一开始需要实现从表现型到基因型的映射即编码工作** 。由于仿照基因编码的工作很复杂，我们往往进行简化，如二进制编码。
&emsp;&emsp;初代种群产生之后，按照适者生存和优胜劣汰的原理，逐代（generation）演化产生出越来越好的近似解，**在每一代，根据问题域中个体的适应度（fitness）大小选择（selection）个体，并借助于自然遗传学的遗传算子（genetic operators）进行组合交叉（crossover）和变异（mutation），产生出代表新的解集的种群**。
&emsp;&emsp;这个过程将导致种群像自然进化一样的后生代种群比前代更加适应于环境，**末代种群中的最优个体经过解码（decoding），可以作为问题近似最优解** 。

### 1.3 遗传算法过程图解
![遗传算法过程图解](https://upload-images.jianshu.io/upload_images/10947003-b234b30997157374.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)　

<br>

## 2 相关生物学术语
&emsp;&emsp;为了大家更好了解遗传算法，在此之前先简单介绍一下相关生物学术语，大家了解一下即可。

&emsp;&emsp;基因型(genotype)：性状染色体的内部表现。

&emsp;&emsp;表现型(phenotype)：染色体决定的性状的外部表现，或者说，根据基因型形成的个体的外部表现。

&emsp;&emsp;进化(evolution)：种群逐渐适应生存环境，品质不断得到改良。生物的进化是以种群的形式进行的。

&emsp;&emsp;适应度(fitness)：度量某个物种对于生存环境的适应程度。

&emsp;&emsp;选择(selection)：以一定的概率从种群中选择若干个个体。一般，选择过程是一种基于适应度的优胜劣汰的过程。

&emsp;&emsp;复制(reproduction)：细胞分裂时，遗传物质DNA通过复制而转移到新产生的细胞中，新细胞就继承了旧细胞的基因。

&emsp;&emsp;交叉(crossover)：两个染色体的某一相同位置处DNA被切断，前后两串分别交叉组合形成两个新的染色体。也称基因重组或杂交。

&emsp;&emsp;变异(mutation)：复制时可能（很小的概率）产生某些复制差错，变异产生新的染色体，表现出新的性状。

&emsp;&emsp;编码(coding)：DNA中遗传信息在一个长链上按一定的模式排列。遗传编码可看作从表现型到基因型的映射。

&emsp;&emsp;解码(decoding)：基因型到表现型的映射。

&emsp;&emsp;个体(individual):指染色体带有特征的实体。

&emsp;&emsp;种群(population:个体的集合，该集合内个体数称为种群。

<br>

## 3 实现流程
&emsp;&emsp;遗传算法中每一条染色体，对应着遗传算法的一个解决方案，一般我们用适应性函数（fitness function）来衡量这个解决方案的优劣。所以从一个基因组到其解的适应度形成一个映射。遗传算法的实现过程实际上就像自然界的进化过程那样。

&emsp;&emsp;下面我们用袋鼠跳中的步骤一一对应解释，以方便大家理解：

1) 首先寻找一种对问题潜在解进行“数字化”编码的方案。（建立表现型和基因型的映射关系）

2) 随机初始化一个种群（那么第一批袋鼠就被随意地分散在山脉上），种群里面的个体就是这些数字化的编码。

3) 接下来，通过适当的解码过程之后（得到袋鼠的位置坐标）。

4) 用适应性函数对每一个基因个体作一次适应度评估（袋鼠爬得越高当然就越好，所以适应度相应越高）。

5) 用选择函数按照某种规定择优选择（每隔一段时间，射杀一些所在海拔较低的袋鼠，以保证袋鼠总体数目持平。）

6) 让个体基因变异（让袋鼠随机地跳一跳）。

7) 然后产生子代（希望存活下来的袋鼠是多产的，并在那里生儿育女）。

&emsp;&emsp;遗传算法并不保证你能获得问题的最优解，但是使用遗传算法的最大优点在于你不必去了解和操心如何去“找”最优解。（你不必去指导袋鼠向那边跳，跳多远。）而只要简单的“否定”一些表现不好的个体就行了。（把那些总是爱走下坡路的袋鼠射杀，这就是遗传算法的精粹！）

由此我们可以得出遗传算法的一般步骤：

1) 随机产生种群。

2) 根据策略判断个体的适应度，是否符合优化准则，若符合，输出最佳个体及其最优解，结束。否则，进行下一步。

3) 依据适应度选择父母，适应度高的个体被选中的概率高，适应度低的个体被淘汰。

4) 用父母的染色体按照一定的方法进行交叉，生成子代。

5) 对子代染色体进行变异。

6) 由交叉和变异产生新一代种群，返回步骤2，直到最优解产生。

<br>

## 4 实现细节

### 4.1 编码

#### 4.1.1 二进制编码
#### 4.1.2 浮点编码法
#### 4.1.3 符号编码法




