# 相关性检验

<br>
<br>

## 1. 相关性检验之Pearson系数及python实现

### 1.1 相关性检验之Pearson系数

皮尔森相关系数是用来反应俩变量之间相似程度的统计量。Pearson系数的取值范围为[-1,1]，当值为负时，为负相关，当值为正时，为正相关，绝对值越大，则正/负相关的程度越大。若数据无重复值，且两个变量完全单调相关时，spearman相关系数为+1或-1。当两个变量独立时相关系统为0，但反之不成立

Pearson相关系数的计算方法有几种种形式，如下列公式所示：

![](https://upload-images.jianshu.io/upload_images/10947003-e677650f0778e825.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![](https://img-blog.csdn.net/20170621184418669)

![](https://img-blog.csdn.net/20170621184418669)

![](https://img-blog.csdn.net/20170621184418669)

### 1.2 Pearson系数Python实现
```python
#计算特征和类的平均值
def calcMean(x,y):
    sum_x = sum(x)
    sum_y = sum(y)
    n = len(x)
    x_mean = float(sum_x+0.0)/n
    y_mean = float(sum_y+0.0)/n
    return x_mean,y_mean

#计算Pearson系数
def calcPearson(x,y):
    x_mean,y_mean = calcMean(x,y)	#计算x,y向量平均值
    n = len(x)
    sumTop = 0.0
    sumBottom = 0.0
    x_pow = 0.0
    y_pow = 0.0
    for i in range(n):
        sumTop += (x[i]-x_mean)*(y[i]-y_mean)
    for i in range(n):
        x_pow += math.pow(x[i]-x_mean,2)
    for i in range(n):
        y_pow += math.pow(y[i]-y_mean,2)
    sumBottom = math.sqrt(x_pow*y_pow)
    p = sumTop/sumBottom

    return p
```

### 1.3 Pearson系数Scipy实现
```python
scipy.stats.pearsonr(x, y)[source]
'''
    params: x : (N,) array_like
            y : (N,) array_like
    return: r : float
            p-value : float
'''

```

净相关（partial correlation）：在模型中有多个自变数（或解释变数）时，去除掉其他自变数的影响，只衡量特定一个自变数与因变数之间的相关性。自变数和因变数皆为连续变数。

相关比（correlation ratio）：衡量两个连续变数之相关性。

Gamma相关系数：衡量两个次序尺度变数之相关性。

Spearman等级相关系数：衡量两个次序尺度变数之相关性。

Kendall等级相关系数（Kendall tau rank correlation coefficient）：衡量两个人为次序尺度变数（原始资料为等距尺度）之相关性。

Kendall和谐系数：衡量两个次序尺度变数之相关性。

Phi相关系数（Phi coefficient）：衡量两个真正名目尺度的二分变数之相关性。

列联相关系数（contingency coefficient）：衡量两个真正名目尺度变数之相关性。

四分相关（tetrachoric correlation）：衡量两个人为名目尺度（原始资料为等距尺度）的二分变数之相关性。

Kappa一致性系数（K coefficient of agreement）：衡量两个名目尺度变数之相关性。

点二系列相关系数（point-biserial correlation）：X变数是真正名目尺度二分变数。Y变数是连续变数。

二系列相关系数（biserial correlation）：X变数是人为名目尺度二分变数。Y变数是连续变数。